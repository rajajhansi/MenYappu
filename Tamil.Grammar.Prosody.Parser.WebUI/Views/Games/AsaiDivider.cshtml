@{
    ViewBag.Title = "அசை பிரி";
}
<div class="asaiDividerGame">

</div>
<ul class="kendo-panelbars-custom" id="seyyulbar">
    <li>
        <h4 class="main-title">
            ஒரேயொரு சீரை உள்ளிடவும்
            <span class="main-title-icon glyph glyph-chevron-down"></span>
        </h4>
        <ul>
            <li id="seyyul" class="k-state-active">
                <form id="prosodyForm" class="form-horizontal" action="/api/Prosody/MathiraiCount" method="POST">
                    <div class="row">
                        <div class="col-md-8" id="input">

                        </div>
                        <div class="col-md-8 hidden" id="asaiSelector">
                            <h4 class="game-section-title text-center">
                                அசை வகைகள்
                            </h4>
                            <div id="asaiCalculator" class="text-center text-t5">
                                <span>எண்ணிக்கை:</span>
                                <span id="AsaiCount"></span>
                            </div>
                            <div id="asaiTypes" class="type-t7 text-center">

                            </div>
                        </div>
                        <div class="col-md-8 hidden" id="result">
                        </div>
                    </div>
                </form>
            </li>
        </ul>
    </li>
</ul>
<div id="additionalInfo"></div>
<script type="text/x-kendo-template" id="asaiTemplate">
    # var asaiId = 'asai-dropdown-' + asaiIndex; #
    <p class="form-group-label">அசை வகை</p>
    <div class="dropdown">
        <button id="#= asaiId #" class="btn btn-dropdown dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false">
            அசை வகையைத் தேர்ந்தெடு<span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="#= asaiId #">
            <li><a href="\\#">நேர்</a></li>
            <li><a href="\\#">நிரை</a></li>
        </ul>
    </div>

</script>

<script type="text/x-kendo-template" id="seerTemplate">
    # if(paaVagai) { #
    <h3 class="k-widget k-header">#= paaVagai #</h3>
    <br />
    # } #
    <table border="0" cellspacing="15">
        <tbody>

            # $.each(parseTree, function(adiKey, adiValue) { #
            # var paaAsaiInAdi = ""; var asigalInAdi = "";	var vaippaduInAdi = ""; #
            # $.each(adiValue, function(seerKey, seerValue) { #
            # paaAsaiInAdi = paaAsaiInAdi + '<td>' #
            # asigalInAdi = asigalInAdi + '<td>'#
            # vaippaduInAdi = vaippaduInAdi + '<td>'#
            # $.each(seerValue, function(asaiKey, asaiValue) { #
            # $.each(asaiValue, function(key, value) { #
            # if(key != "meta" && key != "smeta") { #
            # if(new RegExp("^நேர்").test(key)) {  #
            # paaAsaiInAdi = paaAsaiInAdi + '<span class="nerasai">' + value + '</span>' #
            # asigalInAdi = asigalInAdi + '<span class="nerasai">' + key #
                # } else if(new RegExp("^நிரை").test(key)) { #
                # paaAsaiInAdi = paaAsaiInAdi + '<span class="niryasai">' + value + '</span>' #
                # asigalInAdi = asigalInAdi + '<span class="niryasai">' + key #
                    # } else if( key == "பு") { #
                    # var spanClass = new RegExp("^நேர்").test(venLastSyllable) ? "nerasai" : "niryasai"; #
                    # paaAsaiInAdi = paaAsaiInAdi + '<span class="' + spanClass + '">' + value + '</span>' #
                    # } #
                    # } else { #
                    # if(key == "meta") { #
                    # paaAsaiInAdi = paaAsaiInAdi + '</td>' #
        # asigalInAdi = asigalInAdi + '</td>'  #
        # vaippaduInAdi = vaippaduInAdi + value + '</td>' #
        # } #
        # }	#
        # }) #
        # }) #
        # }) #
        # console.log("\r\n" + paaAsaiInAdi); console.log("\r\n" + asigalInAdi); console.log("\r\n" + vaippaduInAdi); #
        <tr>
            #= paaAsaiInAdi #
        </tr>
        <tr>
            #= asigalInAdi #
        </tr>
        <tr>
            #= vaippaduInAdi #
        </tr>
        #}) #
        </tbody>
    </table>

</script>
@{ Html.RenderPartial("_CommonKendoTemplates"); }

<script src="/Scripts/prosody/AsaiDivider.js"></script>
<script>
    $(document).ready(function () {
        AsaiDivider.init();
        var delay = Utility.makeDelay(1000);
        $("#ProsodyText")
            .keyup(function () {
                delay(AsaiDivider.showInputAndResult);
            });
        $("#ProsodyText").blur(AsaiDivider.showInputAndResult);

        $("#prosodyForm").submit(function () {
            Utility.hideResult();
            var data = '{"inputText" : "' + $("#ProsodyText").val() + '"' + '}';
            ProsodyService.thalaiFinder(data, AsaiDivider.showOutputWithResult);
            return false;
        });
    });
</script>